# 计算机系统概论

## 计算机的历史与分类

| 发展阶段              | 逻辑元件                | Memory        | 运算速度（每秒）   | 软件                                    | 应用        |
|-------------------|---------------------|---------------|------------|---------------------------------------|-----------|
| 第一代计算机（1946-1957） | 电子管                 | 电子射线管         | 几千次到几万次    | 使用机器语言、汇编语言                           | 军事研究、科学计算 |
| 第二代计算机（1958-1964） | 晶体管                 | 磁芯            | 几十万次       | 出现监控程序、有了操作系统的雏形、开始使用高级语言             | 数据处理、商务处理 |
| 第三代计算机（1965-1970） | SSIC、MSIC           | 半导体           | 几十万次到百万次   | 出现分时操作系统、应用程序                         | 开始广泛应用    |
| 第四代计算机（1971—至今）   | LIC、VLSIC、ULSIC、GSI | 半导体 出现大容量软、硬盘 | 几百万次到几百万亿次 | 产生了微处理器，并行、流水线、高速缓存和虚拟存储器等概念都应用在这代计算机 | 广泛应用      |

第五代计算机（未来猜想）：非冯诺依曼计算机或具有人工智能的计算机。

### 计算机的分类

- 按处理对象分类
    - 模拟计算机
    - 数字计算机
- 按用途分类
    - 专用计算机
    - 通用计算机
- 按规模与性能分类
    - 巨型机：即超级计算机
    - 大型机：即服务器
    - 小型机：具有区别 PC 及其服务器的特有体系结构，还有各制造厂自己的专利技术，有的还采用小型机专用处理器。高可靠性、高可用性、高服务性，年宕机时间只有几小时。
    - 工作站（workstation）
    - 微型机：即个人计算机

## 冯诺依曼结构

冯诺依曼结构由五大基本部分构成：运算器、控制器、存储器、I/O。

![计算机的基本组成](img\冯诺依曼结构.png)

冯诺依曼结构三个主要特征：硬件由五大系统构成、采用二进制表示数据、采用存储程序的工作方式。存储程序的工作方式是冯诺依曼结构的最核心的特征。


### 存储程序的工作方式

1. 编制程序
2. 存入程序：将原本由字符组成的源程序翻译为目标程序，并保存。
3. 执行程序：指令和数据都以二进制代码分开存入主存中，以此区分。大多数情况下，程序是顺序执行的，因此大多数指令需要依次序存放，而数据存放在程序不同区间。
CPU具有 PC，用于存放即将执行的指令的储存单元的地址，顺序执行时，读取当前指令后，pc 中的地址自动+1，指向下一条指令地址。
如果程序要转移，则将转移目标地址送入 PC。

## 计算机系统的层次结构

第零级：硬联逻辑级，这是计算机的内核。由门，触发器等逻辑电路组成。

第一级：微程序设计级（逻辑电路级别）。这是一个硬件级。这级的编程语言是微指令集（微架构），如果应用程序要直接运行在这一级，需要用微指令编写，由硬件直接执行。如：zen4、zen5.

第二级：一般机器级（机器语言级）。这也是一个硬件级，这级的编程语言是指令集，由微程序来解释机器指令系统（机器语言）。如：x86、arm。

第三级：操作系统级。由操作系统实现。操作系统由机器指令和广义指令组成。广义指令是操作系统定义和解释的软件指令。所以这一级也称混合层。

第四级：汇编语言级。它给程序员提供了一种符号形式的语言，以减少程序编写的复杂性。这一级由汇编程序翻译执行。如果想运行汇编语言编写的程序，则机器必须支持这一层的功能。如果不需要，则这一级可以不要。

第五级：高级语言级。由各高级语言编译程序支持、翻译、执行。

### 软件与硬件的逻辑等价性

硬件是整个计算机系统发挥其作用的物质基础。在计算机上执行的任何功能与操作都会转化为一系列随时间变化的电信号的集合。

软件是根据要完成的特定任务对硬件的机器指令的逻辑组织，它是计算机的灵魂。

凡是由硬件实习的功能，同样可以用软件实现，反之亦然。虽然软件是一个无形的逻辑实体，硬件是一个有形的物理实体，但它们在逻辑上是等价的。

早期计算机，为了降低造价，只让硬件实现较为简单的操作，较复杂的功能则由软件实现，这就是所谓的“硬件软化”。
随着 VLSIC 技术的发展，原本明显地在一般机器级通过编制程序实现的操作（如整数乘除法指令、浮点计算指令、处理字符串指令等）改为直接由硬件完成。于是出现了“软件硬化”。计算机的软硬件界限模糊了。